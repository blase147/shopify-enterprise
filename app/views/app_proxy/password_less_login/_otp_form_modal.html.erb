<div class="Polaris-Modal in" id="otp_modal" style="padding-right: 0px;">
   <div class="Polaris-Modal-Dialog__Container" data-polaris-layer="true" data-polaris-overlay="true">
      <div aria-labelledby="Polarismodal-header20" class="Polaris-Modal-Dialog" role="dialog" tabindex="-1">
         <div class="Polaris-Modal-Dialog__Modal">
            <div class="Polaris-Modal__BodyWrapper">
                <div class="Polaris-Modal__Body Polaris-Scrollable Polaris-Scrollable--vertical edit-subscription-modal" data-polaris-scrollable="true">
                    <div class="header">
                        <div>
                        <h2>Enter OTP</h2>
                        </div>
                        <div aria-hidden="true" class="close" data-action="close" data-dismiss="modal" tabindex="-1">
                        <%# <svg fill="none" height="20" viewBox="0 0 18 20" width="18" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 19.9998H2.212L8.484 11.0398L14.756 19.9998H17.052L9.688 9.58378L16.408 0.175781H14.196L8.568 8.23978L2.856 0.175781H0.672L7.448 9.58378L0 19.9998Z" fill="#DDDDDD"></path>
                        </svg> %>
                        </div>
                    </div>
                    <div class="message subscription-details" style="font-size: 20px; padding: 58px 35px;">
                        <label for="otp_field">Enter OTP</label>
                        <input type="number" class="otp" id="otp_field">
                        <input type="button" value="Submit" id="submit_otp">
                    </div>
                    <div id="error_message"></div>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div class="Polaris-Backdrop"></div>
</div>

<script>
    $("#submit_otp").on("click",function(){
        $.ajax({
            type: "post",
            data: `email=${$("#email").val()}&otp=${$("#otp_field").val()}`,
            url: "/a/chargezen_production/password_less_login/auth_with_otp",
            success: function(response){
                console.log(response?.error)
                if(response?.error){
                    $("#error_message").html(response?.error)
                    // setTimeout(() => {
                    //     window.location.reload();
                    // }, 500);
                }
            }
        })
    })
</script>